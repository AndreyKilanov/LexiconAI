# Подробный функционал LexiconAI

**LexiconAI** — это инновационный инструмент для лингвистов, копирайтеров и разработчиков, который выводит процесс поиска лексических ассоциаций на новый уровень. В отличие от традиционных словарей, система анализирует контекст и семантическое поле слова, используя мощь передовых LLM-технологий и графовых моделей оркестрации.

## Основные цели системы

1. **Точность и релевантность:** Получение только качественных синонимов и антонимов, соответствующих современному употреблению языка.
2. **Технологическая независимость:** Возможность использования любого современного ИИ-провайдера через унифицированный интерфейс.
3. **Высокая доступность:** Работа через веб-интерфейс, Telegram-бота и программный API одновременно.
4. **Производительность:** Сокращение затрат на повторные вызовы ИИ за счет многоуровневого кэширования.

## Основной функционал

### 1. Лингвистический анализ (AI Core)

Сердцем системы является AI-модуль, построенный на базе **LangChain** и **LangGraph**.

- **Интеллектуальный поиск:** Система не просто ищет слова в словаре, а использует мощь LLM (через настраиваемых провайдеров, таких как OpenAI, Groq или OpenRouter) для подбора наиболее подходящих по смыслу ассоциаций.
- **Структурированный вывод:** Благодаря LangGraph, каждый запрос проходит через граф обработки, гарантируя получение ровно 10 качественных результатов (5 синонимов и 5 антонимов).
- **Кэширование данных:** Результаты анализа сохраняются в базе данных PostgreSQL. При повторном запросе того же слова система мгновенно выдает результат из кэша, экономя токены и время.

### 2. Мультиплатформенность

#### Веб-интерфейс

Современное одностраничное приложение (на базе FastAPI + Jinja2 + HTMX):

- **Интерактивный чат:** Общение с системой происходит в формате чата, напоминающего современные AI-ассистенты.
- **HTMX Реактивность:** Поиск и отображение результатов происходят без перезагрузки всей страницы, что обеспечивает высокую скорость и плавность работы.
- **Визуальное разделение:** Синонимы и антонимы подсвечиваются разными цветами для удобства восприятия.

#### Telegram Бот

Полнофункциональный бот (на базе `aiogram 3.x`), интегрированный с общим API:

- **Простота использования:** Достаточно отправить слово сообщением, чтобы получить структурированный ответ.
- **Markdown форматирование:** Ответы бота красиво оформлены с использованием emoji и стилей текста.

### 3. REST API

Для разработчиков и внешних интеграций доступен REST API:

- **Эндпоинт `/api/analyze`:** Позволяет программно получать данные лингвистического анализа.
- **Swagger документация:** Все методы API задокументированы и доступны для тестирования через интерактивный интерфейс.

## Архитектурные особенности

- **Чистая архитектура (Clean Architecture):** Четкое разделение на слои представления, бизнес-логики и инфраструктуры.
- **Асинхронность (Async first):** Весь стек (FastAPI, SQLAlchemy, aiogram, httpx) работает асинхронно, что позволяет системе выдерживать высокие нагрузки.
- **Надежность:** Использование `Pydantic` для строгой валидации данных и `structlog` для детального логирования всех процессов.

## Пользовательский путь (User Flow)

1. Пользователь вводит слово в веб-интерфейсе или Telegram боте.
2. Система проверяет наличие слова в локальной базе данных (`word_dictionary`).
3. Если слово найдено — возвращается мгновенный ответ.
4. Если слова нет — запускается LangGraph агент, который обращается к LLM, структурирует результат и сохраняет его в БД.
5. Факт запроса фиксируется в `request_logs` для аналитики.
6. Пользователь получает список из 10 слов с указанием их типа (синоним/антоним).
